# Docker provider

If you don't have vagrant, you can build pentest-env/vagrant container

```bash
docker build -t pentest-env/vagrant -f dockerfiles/vagrant .
```


Make a magic alias (need docker permissions, or use `sudo`):

Without SELinux
```bash
alias vagrant="docker run --rm --name vagrant -it -v \"/var/run/docker.sock:/var/run/docker.sock\" -v \"\$(pwd):/vagrant\" pentest-env/vagrant"
```

With SELinux
```bash
alias vagrant="docker run --rm --name vagrant -it -v \"/var/run/docker.sock:/var/run/docker.sock:Z\" -v \"\$(pwd):/vagrant:Z\" pentest-env/vagrant"
```


You're all set:
```bash
vagrant status
vagrant up --provider=docker docker-kali
```

You can also export `VAGRANT_DEFAULT_PROVIDER` envvar if you plan to use vagrant only with docker:
```bash
export VAGRANT_DEFAULT_PROVIDER=docker
```

then:
```bash
vagrant up docker-kali
```
